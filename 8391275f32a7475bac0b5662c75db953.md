id: 8391275f32a7475bac0b5662c75db953
parent_id: 
item_type: 1
item_id: 2875f0d6118a4f43a6217cf40a7789fc
item_updated_time: 1629697561152
title_diff: "[{\"diffs\":[[1,\"20个简洁的 JS 代码片段\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":14}]"
body_diff: "[{\"diffs\":[[1,\"## 20个简洁的 JS 代码片段\\\n\\\n<img width=\\\"677\\\" height=\\\"373\\\" src=\\\":/4e9ce6b7ea73457d9338ed4a0e3c1d94\\\"/>\\\n\\\n### **1、单行 If-Else 语句**\\\n\\\n这是许多编程语言的共同特征。你可以使用三元运算符用一行代码编写整个语句，而不是在多行上编写 if-else。\\\n\\\n例如：\\\n\\\n```js\\\nconst age = 12;\\\nlet ageGroup;\\\n// LONG FORM\\\nif (age > 18) {\\\n  ageGroup = \\\"An adult\\\";\\\n} else {\\\n  ageGroup = \\\"A child\\\";\\\n}\\\n// SHORTHAND\\\nageGroup = age > 18 ? \\\"An adult\\\" : \\\"A child\\\";\\\n```\\\n\\\n但是，不要过度使用它。它会使你的代码更加冗长。明智的做法是仅用此替换简单的表达式以提高可读性并减少代码行数。\\\n\\\n### **2、从数组中删除重复项**\\\n\\\n在 JavaScript 中，Set 是一个集合，它允许你仅存储唯一值。这意味着删除任何重复的值。\\\n\\\n因此，要从数组中删除重复项，你可以将其转换为集合，然后再转换回数组。\\\n\\\n```js\\\nconst numbers = [1, 1, 20, 3, 3, 3, 9, 9];\\\nconst uniqueNumbers = [...new Set(numbers)]; // -> [1, 20, 3, 9]\\\n```\\\n\\\n困惑吗？让我解释一下它是如何工作的：\\\n\\\n1. new Set(numbers)从数字列表中创建一个集合。创建集合会自动删除所有重复值。\\\n\\\n2. 展开运算符...将任何可迭代对象转换为数组。这意味着将集合转换回数组。\\\\[...new Set(numbers)\\\\]\\\n\\\n### **3、 较短的 If-Else 的空合并**\\\n\\\n这也是 if-else 的简写。\\\n\\\n你可以使用看涨合并，而不是使用 if-else 构造来检查值是否为空。该nullish合并操作 ??，如果没有定义左侧返回右侧。如果是，则返回左侧：\\\n\\\n```js\\\nlet maybeSomething;\\\n// LONG FORM\\\nif(maybeSomething){\\\n  console.log(maybeSomething)\\\n} else {\\\n  console.log(\\\"Nothing found\\\")\\\n}\\\n//SHORTHAND\\\nconsole.log(maybeSomething ?? \\\"Nothing found\\\")\\\n```\\\n\\\n### **4、防止崩溃的可选链**\\\n\\\n如果访问未定义的属性，则会产生错误。这就是可选链的用武之地。\\\n\\\n在未定义属性时使用可选链运算符，undefined将返回而不是错误。这可以防止你的代码崩溃。\\\n\\\n例如：\\\n\\\n```js\\\nconst student = {\\\n  name: \\\"Matt\\\",\\\n  age: 27,\\\n  address: {\\\n    state: \\\"New York\\\"\\\n  },\\\n};\\\n// LONG FORM\\\nconsole.log(student && student.address && student.address.ZIPCode); // Doesn't exist - Returns undefined\\\n// SHORTHAND\\\nconsole.log(student?.address?.ZIPCode); // Doesn't exist - Returns undefined\\\n```\\\n\\\n### **5、在没有第三个变量的情况下交换两个变量**\\\n\\\n在 JavaScript 中，你可以使用解构从数组中拆分值。这可以应用于交换两个变量而无需第三个：\\\n\\\n```js\\\nlet x = 1;\\\nlet y = 2;\\\n// LONGER FORM\\\nlet temp = x;\\\nx = y;\\\ny = temp;\\\n// SHORTHAND\\\n[x, y] = [y, x];\\\n```\\\n\\\n### **6、将任何值转换为布尔值**\\\n\\\n在 JavaScript 中，你可以使用 !! 在 JS 中将任何内容转换为布尔值。\\\n\\\n例如，这里有一些例子：\\\n\\\n```js\\\n!!true    // true\\\n!!2       // true\\\n!![]      // true\\\n!!\\\"Test\\\"  // true\\\n!!false   // false\\\n!!0       // false\\\n!!\\\"\\\"      // false\\\n```\\\n\\\n### **7、扩展运算符**\\\n\\\n使用扩展运算符组合两个数组...：\\\n\\\n```js\\\nconst nums1 = [1, 2, 3];\\\nconst nums2 = [4, 5, 6];\\\n// LONG FORM\\\nlet newArray = nums1.concat(nums2);\\\n// SHORTHAND\\\nnewArray = [...nums1, ...nums2];\\\n```\\\n\\\n也可以使用此语法代替将值推送到数组：\\\n\\\n```\\\nlet numbers = [1, 2, 3];\\\n// LONGER FORM\\\nnumbers.push(4);\\\nnumbers.push(5);\\\n// SHORTHAND\\\nnumbers = [...numbers, 4, 5];\\\n```\\\n\\\n### **8、传播解构**\\\n\\\n使用扩展运算符将剩余元素分配给变量：\\\n\\\n```js\\\n`const student = {\\\n  name: \\\"Matt\\\",\\\n  age: 23,\\\n  city: \\\"Helsinki\\\",\\\n  state: \\\"Finland\\\",\\\n};\\\n// LONGER FORM\\\nconst name = student.name;\\\nconst age = student.age;\\\nconst address = { city: student.city, state: student.state };\\\n// SHORTHAND\\\nconst { name, age, ...address } = student;\\\n`\\\n```\\\n\\\n### **9、 使用 && 进行短路评估**\\\n\\\n不必用if语句检查某事是否为真，你可以使用&&运算符：\\\n\\\n```js\\\nvar isReady = true;\\\nfunction doSomething(){\\\n  console.log(\\\"Yay!\\\");\\\n}\\\n// LONGER FORM\\\nif(isReady){\\\n  doSomething();\\\n}\\\n// SHORTHAND\\\nisReady && doSomething();\\\n```\\\n\\\n### **10、类固醇的字符串**\\\n\\\n通过将字符串包装在反引号内并${}用于嵌入值，从而在字符串之间插入变量。\\\n\\\n例如：\\\n\\\n```\\\n``const age = 41;\\\nconst sentence = `I'm ${age} years old`;\\\n// result: I'm 41 years old\\\n``\\\n```\\\n\\\n### **11、 从数组中查找特定元素**\\\n\\\n使用find()方法查找匹配特定条件的元素：\\\n\\\n```js\\\nconst fruits = [\\\n  { type: \\\"Banana\\\", color: \\\"Yellow\\\" },\\\n  { type: \\\"Apple\\\", color: \\\"Green\\\" }\\\n];\\\n// LONGER FORM\\\nlet yellowFruit;\\\nfor (let i = 0; i < fruits.length; ++i) {\\\n  if (fruits[i].color === \\\"Yellow\\\") {\\\n    yellowFruit = fruits[i];\\\n  }\\\n}\\\n// SHORTHAND\\\nyellowFruit = fruits.find((fruit) => fruit.color === \\\"Yellow\\\");\\\n```\\\n\\\n### **12、对象属性赋值**\\\n\\\n你是否希望对象键与值具有相同的名称？你可以省略对象文字来执行此操作：\\\n\\\n```js\\\nconst name = \\\"Luis\\\", city = \\\"Paris\\\", age = 43, favoriteFood = \\\"Spaghetti\\\";\\\n// LONGER FORM\\\nconst person = {\\\n  name: name,\\\n  city: city,\\\n  age: age,\\\n  favoriteFood: favoriteFood\\\n};\\\n// SHORTHAND\\\nconst person = { name, city, age, favoriteFood };\\\n```\\\n\\\n### **13、压缩 For 循环**\\\n\\\n使用内置forEach()方法通过一行代码循环遍历数组：\\\n\\\n```js\\\nconst numbers = [1, 2, 3, 4, 5];\\\n// LONGER FORM\\\nfor(let i = 0; i < numbers.length; i++){\\\n  console.log(numbers[i]);\\\n}\\\n// SHORTHAND\\\nnumbers.forEach(number => console.log(number));\\\n```\\\n\\\n### **14、 默认功能参数**\\\n\\\n你可以为函数参数提供默认值：\\\n\\\n```js\\\n// LONG FORM\\\nfunction pickUp(fruit) {\\\n  if(fruit === undefined){\\\n    console.log(\\\"I picked up a Banana\\\");\\\n  } else {\\\n    console.log(`I picked up a ${fruit}`);\\\n  }\\\n}\\\n// SHORTHAND\\\nfunction pickUp(fruit = \\\"Banana\\\") {\\\n  console.log(`I picked up a ${fruit}`)\\\n}\\\npickUp(\\\"Mango\\\"); // -> I picked up a Mango\\\npickUp();        // -> I picked up a Banana\\\n```\\\n\\\n### **15、将对象的值收集到数组中**\\\n\\\n用于Object.values()将对象的所有值收集到一个新数组中：\\\n\\\n```js\\\nconst info = { name: \\\"Matt\\\", country: \\\"Finland\\\", age: 35 };\\\n// LONGER FORM\\\nlet data = [];\\\nfor (let key in info) {\\\n  data.push(info[key]);\\\n}\\\n// SHORTHAND\\\nconst data = Object.values(info);\\\n```\\\n\\\n### **16、检查一个项目是否存在于数组中**\\\n\\\n这不一定是速记，因为你几乎不会保存几个字符。但这是一种更清洁的方法。\\\n\\\n你可以使用 includes() 方法，而不是使用 indexOf() 方法来检查元素是否在数组中。这使你的意图非常明确：\\\n\\\n```\\\nlet numbers = [1, 2, 3];\\\n// LONGER FORM\\\nconst hasNumber1 = numbers.indexOf(1) > -1 // -> True\\\n// SHORTHAND/CLEANER APPROACH\\\nconst hasNumber1 = numbers.includes(1)     // -> True\\\n```\\\n\\\n### **17、压缩多个条件**\\\n\\\n避免使用长|| 检查多个条件链，你可以使用你刚刚在上一个技巧中学到的东西——即，使用 includes() 方法：\\\n\\\n```js\\\nconst num = 1;\\\n// LONGER FORM\\\nif(num == 1 || num == 2 || num == 3){\\\n  console.log(\\\"Yay\\\");\\\n}\\\n// SHORTHAND\\\nif([1,2,3].includes(num)){\\\n  console.log(\\\"Yay\\\");\\\n}\\\n```\\\n\\\n### **18、 指数运算符**\\\n\\\n你Math.pow()习惯把一个数字提高到一个幂吗？你知道你也可以使用**运算符吗？\\\n\\\n```\\\n// LONGER FORM\\\nMath.pow(4,2); // 16\\\nMath.pow(2,3); // 8\\\n// SHORTHAND\\\n4**2 // 16\\\n2**3 // 8\\\n```\\\n\\\n### **19、 Math.floor() 简写**\\\n\\\n四舍五入Math.floor()并不是什么新鲜事。但是你知道你也可以使用~~运算符吗？\\\n\\\n例如：\\\n\\\n```js\\\n`// LONG FORM\\\nMath.floor(5.25) // -> 5.0\\\n// SHORTHAND\\\n~~5.25 // -> 5.0\\\n`\\\n```\\\n\\\n### **20、 用一行代码分配多个值**\\\n\\\n使用解构语法在一行中分配多个值：\\\n\\\n```\\\nlet num1, num2;\\\n// LONGER FORM\\\nnum1 = 10;\\\nnum2 = 100;\\\n// SHORTHAND\\\n[num1, num2] = [10, 100];\\\n\\\n```\\\n\\\n这也适用于使用 JavaScript 对象：\\\n\\\n```js\\\nstudent = {\\\n  name: \\\"Matt\\\",\\\n  age: 29,\\\n};\\\n// LONGER FORM\\\nlet name = student.name;\\\nlet age = student.age;\\\n// SHORTHAND\\\nlet { name, age } = student;\\\n```\\\n\\\n\"]],\"start1\":0,\"start2\":0,\"length1\":0,\"length2\":5752}]"
metadata_diff: {"new":{"id":"2875f0d6118a4f43a6217cf40a7789fc","parent_id":"5a1089ca994841d08f8c523d9e69800b","latitude":"0.00000000","longitude":"0.00000000","altitude":"0.0000","author":"","source_url":"https://mp.weixin.qq.com/s/uUKA94lPq7IcmZVn-MsaYw","is_todo":0,"todo_due":0,"todo_completed":0,"source":"joplin-desktop","source_application":"net.cozic.joplin-desktop","application_data":"","order":1629697280030,"markup_language":1,"is_shared":0,"share_id":"","conflict_original_id":""},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2021-08-23T05:49:51.686Z
created_time: 2021-08-23T05:49:51.686Z
type_: 13